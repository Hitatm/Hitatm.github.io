---
layout: post
title: Network Layer 
category: Tech
tags: Network
keywords: 
description: live for now.
---

# 网络层

## ipv4 & ipv6

### ipv4  

#### 关于ipv4地址
* ipv4地址32位 一般使用点分10进制显示，增强可读性。
* 网络地址块的分配：一个组织可以申请一块地址，一般要求此块地址要是连续的，个数是2的幂次，并且其实地址要能够被个数整除。
* **一般块地址起始地址不分配给任何设备**，它用作向世界其他部分表示该组织的网络地址。

#### ipv4数据报格式

![](http://7xntdm.com1.z0.glb.clouddn.com/IPformat.png)
### ipv6

### 关于分片

### 路由算法
静态路由 or 动态路由   
1. 静态路由:手工配置、路由更新慢、优先级高
2. 动态路由:定期更新、及时响应链路费用或网络拓扑变化.

每个路由表可以存储全局信息也可以存储局部信息
1. 全局信息：所有路由器掌握完整的网络拓扑和链路费用信息，have a big picture 可能路由表比较大。    
2. 局部信息：路由器只掌握物理相连的邻居以及链路费用，邻居间信息交换,运算的迭代过程。   

路由算法基本类型：

#### 链路状态路由算法

#### 距离矢量路由算法
核心思想；每个路由表只包含自己到周围邻居的距离向量DV，然后不定期的向周围邻居发送自己的DV，邻居收到了之后更新自己的路由表。属于分布式的更新，每当局部路由链路费用改变时候将会通告邻居。

这里更新DV时候可能存在一个无穷计数问题，采用“毒性逆转”方法可以解决某些情况下的问题，但是对于复杂网络并不能完全解决。
这时候需要定义一个最大的度量，比如定义最大跳数为15条，16条跳表示无穷大。

#### 